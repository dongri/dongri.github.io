
<!DOCTYPE html>
<html lang="en-us">

    <head>
        
        <script async src="https://www.googletagmanager.com/gtag/js?id=G-NMTXKDBFCF"></script>
        <script>
        window.dataLayer = window.dataLayer || [];
        function gtag(){dataLayer.push(arguments);}
        gtag('js', new Date());

        gtag('config', 'G-NMTXKDBFCF');
        </script>

        <meta charset="utf-8" />
        <meta http-equiv="X-UA-Compatible" content="IE=edge" />

        <link rel="icon" type="image/png" href="/images/avatar.png">

        <meta property="og:title" content=" Arweave マイニング &middot;  dongri" />
        <meta property="og:site_name" content="dongri" />
        <meta property="og:url" content="https://dongri.github.io/2021/10/arweave-%E3%83%9E%E3%82%A4%E3%83%8B%E3%83%B3%E3%82%B0/" />

    
        <meta property="og:type" content="article" />
        <meta property="og:article:published_time" content="2021-10-11T11:49:39&#43;09:00" />
        <meta property="og:article:tag" content="arweave" />
        <meta property="og:article:tag" content="mining" />
        <meta property="og:article:tag" content="blockchain" />
        

        <meta name="twitter:card" content="summary" />
        <meta name="twitter:site" content="@" />
        <meta name="twitter:creator" content="@" />
        <meta name="twitter:title" content="Arweave マイニング" />
        <meta name="twitter:description" content="" />
        <meta name="twitter:url" content="https://dongri.github.io/2021/10/arweave-%E3%83%9E%E3%82%A4%E3%83%8B%E3%83%B3%E3%82%B0/" />
    

        <title> Arweave マイニング &middot;  dongri</title>

    
        <meta name="description" content="" />
    

        <meta name="p:domain_verify" content="fc173d84e3a4de948ed4bda2908afd3e"/>
        <meta name="HandheldFriendly" content="True" />
        <meta name="MobileOptimized" content="320" />
        <meta name="viewport" content="width=device-width, initial-scale=1.0" />

        
        

    
        <link href="https://dongri.github.io/index.xml" rel="alternate" type="application/rss+xml" title="dongri" />
    

    
        <link rel="canonical" href="https://dongri.github.io/2021/10/arweave-%E3%83%9E%E3%82%A4%E3%83%8B%E3%83%B3%E3%82%B0/" />

    
    <script type="application/ld+json">
    {
        "@context": "http://schema.org",
        "@type": "Article",
        "headline": "Arweave マイニング",
        "author": {
            "@type": "Person",
            "name": "http://profiles.google.com/?rel=author"
        },
        "datePublished": "2021-10-11",
        "description": "",
        "wordCount":  239 
    }
    </script>
    

    <link type="text/css" href="https://dongri.github.io/css/crisp.css" rel="stylesheet"/>

    </head>
    <body>
        <header id="header">
            <a id="logo" href="https://dongri.github.io/"><img src="/images/avatar.png" alt="dongri" /></a>
            
            <p>Hello World</p>

            <div id="follow-icons">
	<a href="http://github.com/dongri" rel="me" target="_blank"><i class="fa fa-github-square fa-2x"></i></a>
	<a href="http://twitter.com/dongrium" rel="me" target="_blank"><i class="fa fa-twitter-square fa-2x"></i></a>
	<a href="http://linkedin.com/in/dongri" rel="me" target="_blank"><i class="fa fa-linkedin-square fa-2x"></i></a>
	<a href="https://www.facebook.com/profile.php?id=100002573679774" rel="me" target="_blank"><i class="fa fa-facebook-square fa-2x"></i></a>
	<a href="https://dongri.github.io/index.xml" rel="me" target="_blank"><i class="fa fa-rss-square fa-2x"></i></a>
</div>

            

        </header>

<main id="content">

<article id="" class="post">
    <div class="post-stamp">
        <time datetime="2021-10-11T11:49:39&#43;09:00">
            11 Oct 2021
        </time>
        <span class="taglist">
        
        &middot;
        
            <a href="https://dongri.github.io/tags/arweave/">arweave</a>
        
            <a href="https://dongri.github.io/tags/mining/">mining</a>
        
            <a href="https://dongri.github.io/tags/blockchain/">blockchain</a>
        
        
        </span>
    </div>
    <h1 class="post-title">Arweave マイニング</h1>
    <h2 id="arweaveとは">Arweaveとは</h2>
<blockquote>
<p>Arweaveは、データを無期限に保存するためのプラットフォームを提供することを目的とした分散型のストレージネットワークです。本ネットワークは「決して忘れることのない共同所有のハードドライブ」と自己表現しており、主にpermawebをホストしています。これは、コミュニティ主導のアプリケーションやプラットフォームを多数備えた永久的な分散型ウェブです。
Arweaveネットワークは、ネイティブの仮想通貨ARを使って「マイナー」に料金を支払い、ネットワークの情報を無期限に保存しています。
このプロジェクトは、まず2017年8月に「Archain」として発表され、その後2018年2月に「Arweave」にリブランディングし、2018年6月に正式にローンチしました。</p>
</blockquote>
<p>coinmarketcapから抜粋</p>
<p>アーウィーブと読むらしい。FileCoinとの違いは、従量制課金ではなく、初回一回だけで永久にデータが保存される点です。</p>
<h2 id="arweave-ar-token">Arweave (AR) Token</h2>
<p>Arweaveは自分達のWalletを持ってます。Chrome, FirefoxのExtensionをインストールすれば、MetaMaskの似たようなUIでWalletを生成できて、AR送金もできます。<br>
<a href="https://docs.arweave.org/info/wallets/arweave-web-extension-wallet">https://docs.arweave.org/info/wallets/arweave-web-extension-wallet</a></p>
<h2 id="arweave-mining">Arweave Mining</h2>
<p>日本の取引所にAR上場してないので、マイニングしてみました。マイニングの手順は簡単で、公式ドキュメントを参考にすれば十数分でできるかと思います。<br>
<a href="https://docs.arweave.org/info/mining/mining-guide">https://docs.arweave.org/info/mining/mining-guide</a></p>
<h3 id="1-awsでec2作成">1. awsでEC2作成</h3>
<pre tabindex="0"><code>OS: Ubuntu
CPU: 4
RAM: 16GB
Storage: 1000GB
</code></pre><p><a href="https://viewblock.io/arweave">https://viewblock.io/arweave</a>
こちらのデータから見ると現在データのサイズは18TBなので、全部syncするのはさすがに無理で1000GBにします。それによってマイニング報酬が違います。</p>
<h3 id="2-file-ulimit設定">2. File ulimit設定</h3>
<pre tabindex="0"><code>$ vim /etc/sysctl.conf

fs.file-max=900000
fs.nr_open=9000001

$ sysctl -p

$ vim /etc/security/limits.conf
ubuntu         soft    nofile  900000

$ umit -n
900000
</code></pre><h3 id="3-arweave-ダウンロード">3. arweave ダウンロード</h3>
<p><a href="https://github.com/ArweaveTeam/arweave/releases">https://github.com/ArweaveTeam/arweave/releases</a><br>
こちらからUbuntu版をダウンロード</p>
<pre tabindex="0"><code>$ wget https://github.com/ArweaveTeam/arweave/releases/download/N.2.4.4.0/arweave-2.4.4.0.ubuntu18-x86_64.tar.gz

$ tar -xzf arweave-2.4.4.0.ubuntu18-x86_64.tar.gz

$ mkdir arweave-2.4.4.0
$ mv * arweave-2.4.4.0
</code></pre><h3 id="4-start">4. start</h3>
<pre tabindex="0"><code>$ cd arweave-2.4.4.0
$ ./bin/start mine mining_addr YOUR-MINING-ADDRESS peer 188.166.200.45 peer 188.166.192.169 peer 163.47.11.64 peer 139.59.51.59 peer 138.197.232.192
</code></pre><p><code>YOUR-MINING-ADDRESS</code> のところにChrome Extensionで生成したWalletのアドレスを入れます。</p>
<p>以下のエラーが発生した場合</p>
<pre tabindex="0"><code>error while loading shared libraries: libtinfo.so.5: cannot open shared object file: No such file or directory

$ sudo apt update
$ sudo apt upgrade
$ sudo apt install libncurses5
</code></pre><h4 id="daemon化">Daemon化</h4>
<p>nohupでEC2ターミナル閉じても、ログアウトして実行されるようにします。</p>
<pre tabindex="0"><code>$ onhup ./bin/start mine mining_addr YOUR-MINING-ADDRESS peer 188.166.200.45 peer 188.166.192.169 peer 163.47.11.64 peer 139.59.51.59 peer 138.197.232.192 &gt;&gt; ./log/mining.log &amp;
</code></pre><h3 id="5-logs">5. logs</h3>
<pre tabindex="0"><code>$ ./bin/logs -f
 [info] /opt/arweave/apps/arweave/src/ar_meta_db.erl:97 event: ar_meta_db_start
 [info] /opt/arweave/apps/arweave/src/ar_arql_db.erl:173 ar_arql_db: init, data_dir: .
 [info] /opt/arweave/apps/arweave/src/ar_arql_db.erl:387 ar_arql_db: creating_meta_table
 [info] /opt/arweave/apps/arweave/src/ar_arql_db.erl:401 ar_arql_db: creating_schema
 [info] /opt/arweave/apps/arweave/src/ar_header_sync.erl:52 event: ar_header_sync_start
 [info] /opt/arweave/apps/arweave/src/ar_data_sync.erl:213 event: ar_data_sync_start
 [info] /opt/arweave/apps/arweave/src/ar_blacklist_middleware.erl:29 event: ar_blacklist_middleware_start
 [info] /opt/arweave/apps/arweave/src/ar_poller.erl:34 event: ar_poller_start
</code></pre><h3 id="6-ブラウザから確認">6. ブラウザから確認</h3>
<p>http://{ec2-ip}:1984/</p>
<pre tabindex="0"><code>{
  network: &#34;arweave.N.1&#34;,
  version: 5,
  release: 49,
  height: 787538,
  current: &#34;QjJ5pdAim7YFlN0Mr2gXSfCVcj0PnMoQEOPL_Iej9S7q9I-5zPEb0N3keh6dZW4e&#34;,
  blocks: 162578,
  peers: 215,
  queue_length: 0,
  node_state_latency: 3
}
</code></pre><p>同期完了まで数日かかりそうです。</p>
<h2 id="サーバー料金マイニング報酬">サーバー料金、マイニング報酬</h2>
<p>t2.xlarge + 1000GB</p>
<pre tabindex="0"><code>Amazon EC2 見積り
Amazon EC2 Instance Savings Plans のインスタンス (monthly): 83.95 USD
Amazon Elastic Block Storage (EBS) の料金 (monthly): 100.00 USD
合計月額コスト: 183.95 USD
</code></pre><p><a href="https://www.coingecko.com/en/coins/arweave">https://www.coingecko.com/en/coins/arweave</a><br>
2021年10月11日時点で¥6,849</p>
<p>マイニング報酬は一ヶ月後にご報告します。</p>
<h1 id="追記">[追記]</h1>
<p>マイニング15日経過、1TBのデータが99%使用されてる状態だがマイニング報酬は全く入ってこない。EC2止めた</p>

    

    

    
</article>

</main>
		<footer id="footer">
			<section id="footer-message">Powered by Hugo.  &copy; 2014 dongri</section>
		</footer>

    <script>
      (function(c,f){asyncLoader=function(i,h){i.foreach(function(k,j){e(j,d(j),h)});if(typeof h.callback=="function"){var g=setInterval(function(){if(f.readyState==="complete"){clearInterval(g);h.callback()}},10)}};var d=function(g){var h=g.split(".");return h[h.length-1]},e=function(h,i,g){switch(i){case"js":a(h,g);break;case"css":b(h);break;default:break}},a=function(i,h){var g=document.createElement("script");g.type="text/javascript";g.async=true;g.src=i;document.getElementsByTagName("head")[0].appendChild(g)},b=function(g){var h=document.createElement("link");h.type="text/css";h.rel="stylesheet";h.href=g;document.getElementsByTagName("head")[0].appendChild(h)};Array.prototype.foreach=function(h){for(var g=0;g<this.length;g++){h(g,this[g])}}})(this,document);

      var WebFontConfig={google:{families:["Open Sans:300italic,700italic,300,700","Bree+Serif"]}};
      asyncLoader([
        "//netdna.bootstrapcdn.com/font-awesome/4.3.0/css/font-awesome.css",
        "//cdnjs.cloudflare.com/ajax/libs/jquery/2.1.3/jquery.min.js",
        "//cdnjs.cloudflare.com/ajax/libs/webfont/1.5.16/webfontloader.js",
        "//cdnjs.cloudflare.com/ajax/libs/highlight.js/8.5/highlight.min.js"
      ],{
        callback:function(){
          asyncLoader([
            "https:\/\/dongri.github.io\/css/rrssb.css",
            "https:\/\/dongri.github.io\/js/gist.min.js",
            "https:\/\/dongri.github.io\/js/rrssb.min.js",
            "//cdnjs.cloudflare.com/ajax/libs/highlight.js/8.5/styles/default.min.css"
          ], { callback:function() {
              hljs.initHighlighting();
          }});
        }
      });
    </script>
	
  <script src="//insight.nilth.com/js/in.js" type="text/javascript"></script>
	</body>
</html>

