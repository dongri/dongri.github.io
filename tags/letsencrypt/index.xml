<?xml version="1.0" encoding="utf-8" standalone="yes"?>
<rss version="2.0" xmlns:atom="http://www.w3.org/2005/Atom">
  <channel>
    <title>Letsencrypt on dongri</title>
    <link>https://dongri.github.io/tags/letsencrypt/</link>
    <description>Recent content in Letsencrypt on dongri</description>
    <generator>Hugo</generator>
    <language>en-us</language>
    <lastBuildDate>Fri, 23 Mar 2018 23:37:02 +0900</lastBuildDate>
    <atom:link href="https://dongri.github.io/tags/letsencrypt/index.xml" rel="self" type="application/rss+xml" />
    <item>
      <title>Let&#39;s Encryptでワイルドカード証明書発行してみた</title>
      <link>https://dongri.github.io/2018/03/lets-encrypt%E3%81%A7%E3%83%AF%E3%82%A4%E3%83%AB%E3%83%89%E3%82%AB%E3%83%BC%E3%83%89%E8%A8%BC%E6%98%8E%E6%9B%B8%E7%99%BA%E8%A1%8C%E3%81%97%E3%81%A6%E3%81%BF%E3%81%9F/</link>
      <pubDate>Fri, 23 Mar 2018 23:37:02 +0900</pubDate>
      <guid>https://dongri.github.io/2018/03/lets-encrypt%E3%81%A7%E3%83%AF%E3%82%A4%E3%83%AB%E3%83%89%E3%82%AB%E3%83%BC%E3%83%89%E8%A8%BC%E6%98%8E%E6%9B%B8%E7%99%BA%E8%A1%8C%E3%81%97%E3%81%A6%E3%81%BF%E3%81%9F/</guid>
      <description>&lt;p&gt;Let&amp;rsquo;s Encryptがワイルドカード証明書サポートしたので設定してみた。&lt;/p&gt;&#xA;&lt;h2 id=&#34;certbot&#34;&gt;certbot&lt;/h2&gt;&#xA;&lt;p&gt;certbotの最新版をgithubから持ってくる&lt;/p&gt;&#xA;&lt;pre tabindex=&#34;0&#34;&gt;&lt;code&gt;$ git clone https://github.com/certbot/certbot.git&#xA;&lt;/code&gt;&lt;/pre&gt;&lt;h2 id=&#34;ワイルドカード証明書の取得&#34;&gt;ワイルドカード証明書の取得&lt;/h2&gt;&#xA;&lt;pre tabindex=&#34;0&#34;&gt;&lt;code&gt;$ ./certbot-auto certonly --manual \&#xA;-d *.nilth.com -d nilth.com \&#xA;-m dongrify@gmail.com \&#xA;--agree-tos \&#xA;--manual-public-ip-logging-ok \&#xA;--preferred-challenges dns-01 \&#xA;--server https://acme-v02.api.letsencrypt.org/directory&#xA;&lt;/code&gt;&lt;/pre&gt;&lt;ul&gt;&#xA;&lt;li&gt;&#xA;&lt;p&gt;-d *.nilth.com -d nilth.com: ワイルドカード証明書とサブドメイン無しの証明書も含めて取得&lt;/p&gt;&#xA;&lt;/li&gt;&#xA;&lt;li&gt;&#xA;&lt;p&gt;-m &lt;a href=&#34;mailto:sample@example.com&#34;&gt;sample@example.com&lt;/a&gt;: 指定したメールアドレスとに証明書更新の通知を受け取る&lt;/p&gt;&#xA;&lt;/li&gt;&#xA;&lt;li&gt;&#xA;&lt;p&gt;&amp;ndash;agree-tos: 利用規約に同意&lt;/p&gt;&#xA;&lt;/li&gt;&#xA;&lt;li&gt;&#xA;&lt;p&gt;&amp;ndash;manual-public-ip-logging-ok: サーバーの IPアドレスがログに記録され公開されることを許可します。&lt;/p&gt;&#xA;&lt;/li&gt;&#xA;&lt;li&gt;&#xA;&lt;p&gt;&amp;ndash;preferred-challenges dns-01: DNS-01チャレンジタイプで検証するように指定&lt;/p&gt;&#xA;&lt;/li&gt;&#xA;&lt;li&gt;&#xA;&lt;p&gt;&amp;ndash;server &lt;a href=&#34;https://acme-v02.api.letsencrypt.org/directory&#34;&gt;https://acme-v02.api.letsencrypt.org/directory&lt;/a&gt;: ACMEv2 のエンドポイント&lt;/p&gt;&#xA;&lt;/li&gt;&#xA;&lt;/ul&gt;&#xA;&lt;pre tabindex=&#34;0&#34;&gt;&lt;code&gt;Requesting to rerun ./certbot-auto with root privileges...&#xA;[sudo] password for dongri:&#xA;Creating virtual environment...&#xA;Installing Python packages...&#xA;Installation succeeded.&#xA;Saving debug log to /var/log/letsencrypt/letsencrypt.log&#xA;Plugins selected: Authenticator manual, Installer None&#xA;&#xA;-------------------------------------------------------------------------------&#xA;Would you be willing to share your email address with the Electronic Frontier&#xA;Foundation, a founding partner of the Let&amp;#39;s Encrypt project and the non-profit&#xA;organization that develops Certbot? We&amp;#39;d like to send you email about EFF and&#xA;our work to encrypt the web, protect its users and defend digital rights.&#xA;-------------------------------------------------------------------------------&#xA;(Y)es/(N)o: Y ← 入力&#xA;Obtaining a new certificate&#xA;Performing the following challenges:&#xA;dns-01 challenge for nilth.com&#xA;&#xA;-------------------------------------------------------------------------------&#xA;Please deploy a DNS TXT record under the name&#xA;_acme-challenge.nilth.com with the following value:&#xA;&#xA;T32vZj4xmZ12QR_kMblVS31p2Czjb7HT-UQyelDPcYE&#xA;&#xA;Before continuing, verify the record is deployed.&#xA;-------------------------------------------------------------------------------&#xA;Press Enter to Continue&#xA;&lt;/code&gt;&lt;/pre&gt;&lt;p&gt;DNS TXT設定のためこの状態で一旦待つ。ドメインプロバイダでtxtレコードを設定する。&#xA;Value-Domainの例をあげると以下のように設定&lt;/p&gt;</description>
    </item>
  </channel>
</rss>
